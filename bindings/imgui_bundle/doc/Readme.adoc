= ImGui Bundle
:toc: left

/////////////////////////////////////////////////////////////////////////////
// IMPORTANT: do not *edit* Readme.adoc. It is generated automatically from
//     bindings/imgui_bundle/doc/Readme_source.adoc
/////////////////////////////////////////////////////////////////////////////

TIP: Navigate to https://pthom.github.io/imgui_bundle[imgui bundle docs homepage] for a more readable version of this document.


:current_branch: main
:url-bundle: https://github.com/pthom/imgui_bundle/
:url-bundle-main-tree: https://github.com/pthom/imgui_bundle/tree/{current_branch}
:url-bindings-bundle: https://github.com/pthom/imgui_bundle/tree/{current_branch}/bindings/imgui_bundle
:url-demo-imgui-bundle: https://traineq.org/ImGuiBundle/emscripten/bin/demo_imgui_bundle.html
:url-imgui-manual: https://pthom.github.io/imgui_manual_online/manual/imgui_manual.html
:url-imgui: https://github.com/ocornut/imgui/
:current_branch: main
:url-bundle: https://github.com/pthom/imgui_bundle/
:url-bundle-main-tree: https://github.com/pthom/imgui_bundle/tree/{current_branch}
:url-bindings-bundle: https://github.com/pthom/imgui_bundle/tree/{current_branch}/bindings/imgui_bundle
:url-demo-imgui-bundle: https://traineq.org/ImGuiBundle/emscripten/bin/demo_imgui_bundle.html
:url-imgui-manual: https://pthom.github.io/imgui_manual_online/manual/imgui_manual.html
:url-imgui: https://github.com/ocornut/imgui/

image:{url-bundle}/workflows/CppLib/badge.svg[]
image:{url-bundle}/workflows/Pip/badge.svg[]
image:{url-bundle}/workflows/Wheels/badge.svg[]
image:{url-bundle}/workflows/Emscripten/badge.svg[]


== Introduction

:current_branch: main
:url-bundle: https://github.com/pthom/imgui_bundle/
:url-bundle-main-tree: https://github.com/pthom/imgui_bundle/tree/{current_branch}
:url-bindings-bundle: https://github.com/pthom/imgui_bundle/tree/{current_branch}/bindings/imgui_bundle
:url-demo-imgui-bundle: https://traineq.org/ImGuiBundle/emscripten/bin/demo_imgui_bundle.html
:url-imgui-manual: https://pthom.github.io/imgui_manual_online/manual/imgui_manual.html
:url-imgui: https://github.com/ocornut/imgui/

=== About ImGui Bundle

https://github.com/pthom/imgui_bundle[ImGui Bundle] is a bundle for https://github.com/ocornut/imgui[Dear ImGui], including various powerful libraries from its ecosystem. It enables to easily create ImGui applications in C++ and Python, under Windows, macOS, and Linux. It is aimed at application developers, researchers, and beginners who want to quickly get started.



.Click here to see how easy a hello world can be:
[%collapsible]
====

**In C++**

link:{url-bindings-bundle}/demos_cpp/demos_immapp/demo_hello_world.cpp[demo_hello_world.cpp]
[source,cpp]
----
#include "immapp/immapp.h"
#include "imgui.h"

void Gui()
{
    ImGui::Text("Hello, world!");
}

int main(int, char **)
{
    ImmApp::Run(
        Gui,
        "Hello!",
        true // window_size_auto
        // Uncomment the next line to restore window position and size from previous run
        // window_restore_previous_geometry==true
    );

    return 0;
}
----

CMakeLists.txt:
[source,cmake]
----
imgui_bundle_add_app(demo_hello_world demo_hello_world.cpp)
----

**In Python**

link:{url-bindings-bundle}/demos_python/demos_immapp/demo_hello_world.py[demo_hello_world.py]

[source,python]
----
from imgui_bundle import imgui, immapp


def gui():
    imgui.text("Hello, world!")


immapp.run(
    gui_function=gui,  # The Gui function to run
    window_title="Hello!",  # the window title
    window_size_auto=True,  # Auto size the application window given its widgets
    # Uncomment the next line to restore window position and size from previous run
    # window_restore_previous_geometry==True
)
----

TIP: The https://traineq.org/ImGuiBundle/emscripten/bin/demo_imgui_bundle.html[interactive manual] provides lots of examples together with their source.

====


=== Interactive manual: a demo in one click!

:current_branch: main
:url-bundle: https://github.com/pthom/imgui_bundle/
:url-bundle-main-tree: https://github.com/pthom/imgui_bundle/tree/{current_branch}
:url-bindings-bundle: https://github.com/pthom/imgui_bundle/tree/{current_branch}/bindings/imgui_bundle
:url-demo-imgui-bundle: https://traineq.org/ImGuiBundle/emscripten/bin/demo_imgui_bundle.html
:url-imgui-manual: https://pthom.github.io/imgui_manual_online/manual/imgui_manual.html
:url-imgui: https://github.com/ocornut/imgui/

Click on the animated demonstration below to launch the fully interactive demonstration.

.ImGui Bundle interactive demo
[#truc,link={url-demo-imgui-bundle}]
image::https://traineq.org/imgui_bundle_doc/demo_bundle8.gif[Demo, 700]

TIP: This demonstration is also an interactive manual, similar to the online {url-imgui-manual}[ImGui Manual]

=== Batteries included

ImGui Bundle includes:

* https://github.com/ocornut/imgui.git[imgui] : Dear ImGui, bloat-free Graphical User interface for C++ with minimal dependencies
* https://github.com/epezent/implot[implot]: Immediate Mode Plotting
* https://github.com/pthom/hello_imgui.git[Hello ImGui]: cross-platform Gui apps with the simplicity of a "Hello World" app
* https://github.com/CedricGuillemet/ImGuizmo.git[ImGuizmo]: Immediate mode 3D gizmo for scene editing and other controls based on Dear ImGui
* https://github.com/BalazsJako/ImGuiColorTextEdit[ImGuiColorTextEdit]: Colorizing text editor for ImGui
* https://github.com/thedmd/imgui-node-editor[imgui-node-editor]: Node Editor built using Dear ImGui
* https://github.com/altschuler/imgui-knobs[imgui-knobs]: Knobs widgets for ImGui
* https://github.com/pthom/ImFileDialog.git[ImFileDialog]: A file dialog library for Dear ImGui
* https://github.com/samhocevar/portable-file-dialogs[portable-file-dialogs]  Portable GUI dialogs library (C++11, single-header)
* https://github.com/mekhontsev/imgui_md.git[imgui_md]: Markdown renderer for Dear ImGui using MD4C parser
* https://github.com/dalerank/imspinner[imspinner]: Set of nice spinners for imgui
* https://github.com/cmdwtf/imgui_toggle[imgui_toggle]: A toggle switch widget for Dear ImGui.
* https://github.com/pthom/immvision.git[ImmVision]: immediate image debugger and insights
* https://github.com/andyborrell/imgui_tex_inspect[imgui_tex_inspect]: A texture inspector tool for Dear ImGui
* https://github.com/hnOsmium0001/imgui-command-palette.git[imgui-command-palette]: a Sublime Text or VSCode style command palette in ImGui


=== Easily port your code between python and C++

The python bindings were autogenerated from the original C++ code and they closely mirror the original C++ API, with fully typed bindings, so that code completion works like a charm.

The original code documentation is meticulously kept inside the python stubs. See for example the documentation for https://github.com/pthom/imgui_bundle/blob/main/bindings/imgui_bundle/imgui/$$__init__$$.pyi[imgui]
, https://github.com/pthom/imgui_bundle/blob/main/bindings/imgui_bundle/implot.pyi[implot], and https://github.com/pthom/imgui_bundle/blob/main/bindings/imgui_bundle/hello_imgui.pyi[hello imgui]

Thanks to this, porting code between Python and C++ becomes easy.


.Click to see an example
[%collapsible]
====
image:https://traineq.org/imgui_bundle_doc/heart.gif[heart, 200]

Python
[source, python]
----
import time
import numpy as np

from imgui_bundle import implot, imgui_knobs, imgui, immapp, hello_imgui

# Fill x and y whose plot is a heart
vals = np.arange(0, np.pi * 2, 0.01)
x = np.power(np.sin(vals), 3) * 16
y = 13 * np.cos(vals) - 5 * np.cos(2 * vals) - 2 * np.cos(3 * vals) - np.cos(4 * vals)
# Heart pulse rate and time tracking
phase = 0
t0 = time.time() + 0.2
heart_pulse_rate = 80


def gui():
    global heart_pulse_rate, phase, t0, x, y
    # By setting fpsIdle = 0, we make sure that the animation is smooth
    hello_imgui.get_runner_params().fps_idle = 0

    t = time.time()
    phase += (t - t0) * heart_pulse_rate / (np.pi * 2)
    k = 0.8 + 0.1 * np.cos(phase)
    t0 = t

    imgui.text("Bloat free code")
    implot.begin_plot("Heart", immapp.em_to_vec2(21, 21))
    implot.plot_line("", x * k, y * k)
    implot.end_plot()

    _, heart_pulse_rate = imgui_knobs.knob("Pulse", heart_pulse_rate, 30, 180)


if __name__ == "__main__":
    immapp.run(gui, window_size=(300, 450), window_title="Hello!", with_implot=True, fps_idle=0)  # type: ignore
----

C++
[source, cpp]
----
#include "imgui.h"
#include "implot/implot.h"
#include "imgui-knobs/imgui-knobs.h"
#include "immapp/immapp.h"

#include <cmath>

std::vector<double> VectorTimesK(const std::vector<double>& values, double k)
{
    std::vector<double> r(values.size(), 0.);
    for (size_t i = 0; i < values.size(); ++i)
        r[i] = k * values[i];
    return r;
}

int main(int , char *[]) {
    // Fill x and y whose plot is a heart
    double pi = 3.1415926535;
    std::vector<double>  x, y; {
        for (double t = 0.; t < pi * 2.; t += 0.01) {
            x.push_back(pow(sin(t), 3.) * 16.);
            y.push_back(13. * cos(t) - 5 * cos(2. * t) - 2 * cos(3. * t) - cos(4. * t));
        }
    }
    // Heart pulse rate and time tracking
    double phase = 0., t0 = ImmApp::ClockSeconds() + 0.2;
    float heart_pulse_rate = 80.;

    auto gui = [&]() {
        // By setting fpsIdle = 0, we make sure that the animation is smooth
        HelloImGui::GetRunnerParams()->fpsIdle = 0.f;

        double t = ImmApp::ClockSeconds();
        phase += (t - t0) * (double)heart_pulse_rate / (pi * 2.);
        double k = 0.8 + 0.1 * cos(phase);
        t0 = t;

        ImGui::Text("Bloat free code");
        auto xk = VectorTimesK(x, k), yk = VectorTimesK(y, k);
        ImPlot::BeginPlot("Heart", ImmApp::EmToVec2(21, 21));
        ImPlot::PlotLine("", xk.data(), yk.data(), (int)xk.size());
        ImPlot::EndPlot();

        ImGuiKnobs::Knob("Pulse", &heart_pulse_rate, 30., 180.);
    };

    ImmApp::Run(
        gui, "Hello!",
        /*windowSizeAuto=*/false , /*windowRestorePreviousGeometry==*/false, /*windowSize=*/{300, 450},
        /*fpsIdle=*/ 25.f, /*withImplot=*/true);
    return 0;
}
----
====


== Repository folders structure

.Click to see a detailed explanation of this repository folder structure.
[%collapsible]
====
[source,bash]
----
./
├── Readme.md -> bindings/imgui_bundle/Readme.md           # doc
├── Readme_devel.md
│
├── _example_integration/                                   # Demonstrate how to easily use
│         ├── CMakeLists.txt                                # imgui_bundle in a C++ app
│         ├── assets/
│         └── hello_world.main.cpp
│
├── imgui_bundle_cmake/                                     # imgui_bundle_add_app() :
│         │                                                 # a cmake function you can use
│         └── imgui_bundle_add_app.cmake                    # to create an app in one line
│
├── bindings/                                               # root for the python bindings
│         └── imgui_bundle/
│                  ├── assets/                              # assets/ folder: you need to
│                  │                                        # copy this folder
│                  │                                        # into your app folder if you
│                  │                                        # intend to use markdown
│                  │
│                  ├── demos_assets/                        # assets used by demos
│                  ├── demos_cpp/                           # lots of C++ demos
│                  ├── demos_python/                        # lots of python demos
│                  ├── imgui/                               # imgui stubs
│                  │     ├── __init__.pyi
│                  │     ├── backends.pyi
│                  │     ├── internal.pyi
│                  │     └── py.typed
│                  ├── implot.pyi                           # implot stubs
│                  ├── __init__.py
│                  ├── __init__.pyi
│                  ├── hello_imgui.pyi
│                  ├── ...                                  # lots of other libs stubs
│                  ├── ...
│                  ├── ...
│                  ├── immapp/                              # immapp: immediate app
│                  │        │                               # utilities
│                  │        ├── __init__.py
│                  │        ├── __init__.pyi
│                  │        ├── icons_fontawesome.py
│                  │        ├── immapp_cpp.pyi
│                  │        ├── immapp_utils.py
│                  │        └── py.typed
│                  ├── _imgui_bundle.cpython-38-darwin.so  # imGui_bundle python
│                  │                                       # dynamic library
│                  ├── glfw_utils.py
│                  └── py.typed
│
│
├── cmake/                                                 # Private cmake utilities
│         ├── add_imgui.cmake
│         └── ...
│
├── external/                                              # Root of all bound libraries
│         ├── CMakeLists.txt
│         ├── imgui/                                       # ImGui root
│         │         ├── bindings/                          # ImGui bindings
│         │         └── imgui/                             # ImGui submodule
│         ├── ImGuizmo/
│         │         ├── bindings/                          # ImGuizmo bindings
│         │         ├── ImGuizmo/                          # ImGuizmo submodule
│         │         └── ImGuizmoPure/                      # Manual wrappers to help
│         │                                                # bindings generation
│         │
│         ├── ... lots of other bound libraries/           # Lots of other bound libraries
│         │         ├── {lib_name}/
│         │         └── bindings/
│         │
│         ├── _doc/
│         │
│         ├── bindings_generation/                         # Script to generate bindings
│         │         │                                      # and to facilitate external
│         │         ├── __init__.py                        # libraries update
│         │         ├── all_external_libraries.py
│         │         ├── autogenerate_all.py
│         │         └── ...
│         │
│         ├── SDL/SDL/                                     # Linked library (without
│         │                                                # python bindings)
│         ├── fplus/fplus/                                 # Library without bindings
│         └── glfw/glfw                                    # Library without bindings
│
├── lg_cmake_utils/                                        # Cmake utils for bindings
│         │                                                # generation
│         ├── lg_cmake_utils.cmake
│         ├── ...
│
├── pybind_native_debug/
│         ├── CMakeLists.txt
│         ├── Readme.md
│         ├── pybind_native_debug.cpp
│         └── pybind_native_debug.py
│
├── src/
│         └── imgui_bundle/                               # main cpp library: almost empty,
                                                          # but linked to all external libraries
----
====

== Usage with Python

:current_branch: main
:url-bundle: https://github.com/pthom/imgui_bundle/
:url-bundle-main-tree: https://github.com/pthom/imgui_bundle/tree/{current_branch}
:url-bindings-bundle: https://github.com/pthom/imgui_bundle/tree/{current_branch}/bindings/imgui_bundle
:url-demo-imgui-bundle: https://traineq.org/ImGuiBundle/emscripten/bin/demo_imgui_bundle.html
:url-imgui-manual: https://pthom.github.io/imgui_manual_online/manual/imgui_manual.html
:url-imgui: https://github.com/ocornut/imgui/

=== Install from pypi

[source, bash]
----
pip install imgui-bundle
pip install opencv-contrib-python # <1>
----
<1> in order to run the immvision module, install opencv-python or opencv-contrib-python

Note: under windows, you might need to install https://learn.microsoft.com/en-us/cpp/windows/latest-supported-vc-redist?view=msvc-170#visual-studio-2015-2017-2019-and-2022[msvc redist].

=== Install from source:
[source, bash]
----
git clone https://github.com/pthom/imgui_bundle.git
cd imgui_bundle
git submodule update --init --recursive # <1>
pip install -v . # <2>
pip install opencv-contrib-python
----
<1> Since there are lots of submodules, this might take a few minutes
<2> The build process might take up to 5 minutes

=== Run the python demo

Simply run `imgui_bundle_demo`.

The source for the demos can be found inside link:{url-bindings-bundle}/demos_python[bindings/imgui_bundle/demos_python].


TIP: Consider `imgui_bundle_demo` as an always available manual for ImGui Bundle with lots of examples and related code source.


== Usage with C++

:current_branch: main
:url-bundle: https://github.com/pthom/imgui_bundle/
:url-bundle-main-tree: https://github.com/pthom/imgui_bundle/tree/{current_branch}
:url-bindings-bundle: https://github.com/pthom/imgui_bundle/tree/{current_branch}/bindings/imgui_bundle
:url-demo-imgui-bundle: https://traineq.org/ImGuiBundle/emscripten/bin/demo_imgui_bundle.html
:url-imgui-manual: https://pthom.github.io/imgui_manual_online/manual/imgui_manual.html
:url-imgui: https://github.com/ocornut/imgui/

=== Integrate ImGui Bundle in your own project in 5 minutes

The folder link:{url-bundle-main-tree}/_example_integration[example_integration] includes everything you need to set up your own project with ImGui Bundle.

=== Build ImGui Bundle from source

[source, bash]
----
git clone https://github.com/pthom/imgui_bundle.git
cd imgui_bundle
git submodule update --init --recursive # <1>
mkdir build
cd build
cmake ..
make -j # <2>
----

<1> Since there are lots of submodules, this might take a few minutes
<2> The build process might take up to 5 minutes

=== Run the C++ demo

Simply run `./bin/demo_imgui_bundle`.


The source for the demos can be found inside link:{url-bindings-bundle}/demos_cpp/[bindings/imgui_bundle/demos_cpp].


TIP: Consider `demo_imgui_bundle` as a manual for ImGui Bundle with lots of examples and related code source. It is always {url-demo-imgui-bundle}[available online]

== Features

:current_branch: main
:url-bundle: https://github.com/pthom/imgui_bundle/
:url-bundle-main-tree: https://github.com/pthom/imgui_bundle/tree/{current_branch}
:url-bindings-bundle: https://github.com/pthom/imgui_bundle/tree/{current_branch}/bindings/imgui_bundle
:url-demo-imgui-bundle: https://traineq.org/ImGuiBundle/emscripten/bin/demo_imgui_bundle.html
:url-imgui-manual: https://pthom.github.io/imgui_manual_online/manual/imgui_manual.html
:url-imgui: https://github.com/ocornut/imgui/


ImGui Bundle is build on top of https://github.com/pthom/hello_imgui[HelloImGui], which provides:

* DPI aware applications (window size, font loading and scaling, etc)
* Power Save mode: reduce FPS when application is idle
* https://www.youtube.com/watch?v=Hhartw0cUjg[Theme tweaking]
* Window geometry utilities (autosize, restore window position)
* Assets embedding on all platforms
* Auto initialization of third parties modules (implot, imgui-node-editor, markdown, etc)
* Switch between Glfw or Sdl backend

NOTE: The usage of `Hello ImGui` is optional. You can also build an imgui application from scratch, in C++ or in python (see link:{url-bindings-bundle}/demos_python/demos_immapp/imgui_example_glfw_opengl3.py[python example])
